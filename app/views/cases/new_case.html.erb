<!-- this is for a direct case creation from the header-bar, better UX -->

<% provide(:title, "New Case") %>
<h1><%= "New Case" %> </h1>

<div class="row">
  <div class="span6 offset3">

    <%= form_for @case, url: { action: 'create_case'} do |f| %>
      <%= render 'shared/error_messages', object: f.object %>

      <%= f.label 'Client Name:' %>
      <%= f.collection_select(:client, current_user.lawfirm.clients, :client_name, :client_name) %>

      <%= f.label 'Case Name:' %>
      <%= f.text_field :name %>

      <%= f.label 'Matter Reference:' %>
      <%= f.collection_select(:matter_reference, current_user.lawfirm.case_types, :mat_ref, :mat_ref) %>

      <%= f.label 'Case Description:' %>
      <%= f.text_area :description %>

      <%= f.label 'Practice Group:' %>
      <%= f.collection_select(:practice_group, current_user.lawfirm.practicegroups, :group_name, :group_name) %>

      <h2>Note:  <%= link_to "Add Practice Group", new_user_lawfirm_practicegroup_path(:user_id => current_user.id, :lawfirm_id => current_user.lawfirm_id) %>, <%= link_to "Add Matter Reference", new_user_lawfirm_case_type_path(:user_id => current_user.id, :lawfirm_id => current_user.lawfirm.id) %>, or <%= link_to "Add Client", new_client_path %> if missing. </h2>
      <!-- do not select all practice groups...only practice groups that belong to user's lawfirm -->

      <%= f.submit "Create Case", class: "btn btn-large btn-primary" %>
    <% end %>
  </div>
</div>
